<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>

  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse">
      <a-entity id="ctlR" laser-controls="hand: right" vr-controller raycaster="lineColor: red;"></a-entity>
    </a-scene>

	<script>
	   /*const ctlRElement = document.getElementById("ctlR");

	   ctlRElement.addEventListener("bbuttondown", function (e) {//クリックされたら消す
		    const textElement = document.getElementById("clickMeText");
		    if (textElement) {// textElement がまだ存在するか確認
			    textElement.remove();
		    }
	   });*/

	AFRAME.registerComponent("vr-controller", {
		dependencies: ["raycaster"],// Important
		init: function(){
	   	   const ctlRElement = document.getElementById("ctlR");
		   ctlRElement.addEventListener("bbuttondown", function (e) {//クリックされたら消す
			    const textElement = document.getElementById("clickMeText");
			    if (textElement) {// textElement がまだ存在するか確認
				    textElement.remove();
			    }
		   });
		}
	});
		
		
	   function ShowAlert(message){
		  let text = document.createElement("a-text");//動的生成
		  text.setAttribute("id", "clickMeText");
		  text.setAttribute("position", "0 1 -4");
		  text.setAttribute("color", "red");
		  text.setAttribute("scale","2 2 1");
		  text.setAttribute("value",message);

		  
		  let scene = document.querySelector("a-scene");
		  scene.appendChild(text);//シーンに追加（表示）
		  
	          text.addEventListener("click", function (e) {//クリックされたら消す
	            this.remove();
	          });
	
       }

		 
		
       ShowAlert("Click Me");
         		  
	</script>


  </body>
</html>
