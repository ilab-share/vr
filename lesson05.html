<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>A-Frame Selectable Object with Right Hand Controller</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
</head>
<body>
  <a-scene>
    <a-box id="box1" position="0 1 -3" color="red"></a-box>
    
    <a-entity id="ctlR" laser-controls="hand: right" raycaster="lineColor: red;"></a-entity>
  </a-scene>

  <script>
    ////トリガーを使う場合は以下のプログラムを利用する
    $('#ctlR').on('triggerdown', function(e) {
    	let target=e.target.components.raycaster.intersectedEls[0];//targetは衝突相手
    	
    	if(target!=undefined){//raycasterがどこにも当たっていないとtarget==undefined
	      	if (target.getAttribute('color') == 'red') {
	          	target.setAttribute('color', 'yellow');
	        }else{
	        	target.setAttribute('color', 'red');
	        }
	    }
    });
    
    /*
    ////トリガーを使わない場合は以下のプログラムを利用する
    $('#ctlR').on('raycaster-intersection', function(e) {
      e.detail.els[0].setAttribute("color","yellow");//e.detail.els[0] は衝突相手
    });

    $('#ctlR').on('raycaster-intersection-cleared', function(e) {
      e.detail.clearedEls[0].setAttribute("color","red");//e.detail.clearedEls[0] は衝突解除相手
    });
    */

  </script>
    
</body>
</html>
