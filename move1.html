<html>
  <head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  </head>

  <body>
    <a-scene>

      <a-box id="box" position="0 1 -3" color="tomato" grabbable></a-box>

      <a-entity id="hand"
        laser-controls="hand: right"
        raycaster="objects: #box"
        grabber></a-entity>

      <script>
        AFRAME.registerComponent('grabber', {
          init() {
            const hand = this.el;
            let box = null, offset = new THREE.Vector3();

            hand.addEventListener('triggerdown', () => {
              const hit = hand.components.raycaster.intersections[0];
              if (!hit) return;
              box = hit.object.el;
              offset.copy(box.object3D.position)
                    .sub(hand.object3D.position);
            });

            hand.addEventListener('triggerup', () => box = null);

            this.el.sceneEl.addEventListener('tick', () => {
              if (box)
                box.object3D.position
                  .copy(hand.object3D.position)
                  .add(offset);
            });
          }
        });
      </script>

    </a-scene>
  </body>
</html>

